<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC    "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="offline.mybatis">
   <cache />
	<select id="offlineLoginCheck" parameterType="hashmap" resultType="String">
		select password from offline_mart
		WHERE offline_mart_id = #{id}
	</select>
	
	
	<select id="staffLoginCheck" parameterType="hashmap" resultType="String">
		select password from staff
		WHERE staff_id = #{id}
	</select>
	
	<select id="getOfflineInfo" parameterType="hashmap" resultType="offline_mart">
		select * from offline_mart
		WHERE offline_mart_id = #{id}
	</select>
	
	<select id="getStaffInfo" parameterType="hashmap" resultType="staff">
		select * from staff
		WHERE staff_id = #{id}
	</select>
	
	<select id="getMart_order_num" resultType="int">
		select nvl(max(mart_order_id),0) from mart_order
	</select>
	
	<insert id="insertMart_Order"  parameterType="hashmap">
		insert into mart_order
		(mart_order_id, re_date, or_date, offline_mart_id,status )
		values
		(#{mart_order.mart_order_id},sysdate,
		#{mart_order.or_date},#{mart_order.offline_mart_id},
		#{mart_order.status})
	</insert>
	
	<select id="getFood_num_id" resultType="int">
		select nvl(max(food_num_id),0) from food_num
	</select>
	
	<insert id="insertFood_num"  parameterType="hashmap">
		insert into food_num
		(food_num_id, food_id, qty, div, order_id)
		values
		(#{food_num_id}, #{food_num.food_id},#{food_num.qty},
		#{food_num.div},#{food_num.order_id})
	</insert>
	
</mapper>