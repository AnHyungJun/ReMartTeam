<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC    "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="shopping.mybatis">
   <cache />
   
   <select id="getFoodCount" parameterType="hashmap" resultType="int">
      select count(*) from food
      <if test="category != null">
         WHERE category_id = #{category_id}
      </if>
   </select>
   
   <select id="getFoods" parameterType="hashmap" resultType="Food">
      select * from (select rownum rnum, a.* from(
      select food_id, name, price, qty from food where category_id = #{category_id})
      a) where rnum between #{start} and #{end}
   </select>
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
</mapper>